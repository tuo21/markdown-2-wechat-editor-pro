# WeChat Editor Pro 样式修改指南

本文档介绍如何手动修改界面样式，包括组件结构、样式位置、常用 Tailwind CSS 类名说明。

---

## 一、项目结构

```
src/
├── App.vue                 # 主应用组件
├── components/
│   ├── Editor.vue          # Markdown 编辑器
│   ├── Preview.vue         # 微信预览组件
│   ├── Toolbar.vue         # 顶部工具栏
│   ├── StyleConfig.vue     # 主题选择栏
│   ├── ThemeEditor.vue     # 主题编辑器（全屏）
│   └── Toast.vue           # 消息提示
├── composables/
│   ├── useMarkdown.ts      # Markdown 渲染
│   ├── useClipboard.ts     # 剪贴板操作
│   └── useStorage.ts       # 本地存储
├── styles/
│   ├── main.css            # Tailwind 入口
│   └── themes.ts           # 主题定义
├── types/
│   └── index.ts            # TypeScript 类型
└── utils/
    └── styleConverter.ts   # 样式转换工具
```

---

## 二、界面布局说明

### 2.1 主界面布局（App.vue）

```
┌─────────────────────────────────────────────────────────────┐
│  Toolbar.vue - 顶部工具栏                                    │
├─────────────────────────────────────────────────────────────┤
│  StyleConfig.vue - 主题选择栏                                │
├──────────────────────────┬──────────────────────────────────┤
│                          │                                  │
│   Editor.vue             │     Preview.vue                  │
│   (左侧 50%)             │     (右侧 50%)                   │
│                          │                                  │
└──────────────────────────┴──────────────────────────────────┘
```

### 2.2 主题编辑器布局（ThemeEditor.vue）

```
┌─────────────────────────────────────────────────────────────┐
│  标题栏：主题编辑器 | 主题名称输入框 | 取消 | 保存           │
├──────────────────────────┬──────────────────────────────────┤
│  分类标签栏               │                                  │
│  [全局] [标题] [内容块] [其他] │   实时预览                   │
├──────────────────────────┤                                  │
│  样式编辑面板             │   ┌──────────────────────────┐   │
│  (380px 固定宽度)         │   │  微信公众号              │   │
│                          │   │  ─────────────────────   │   │
│  字体大小: [选择] [输入]   │   │  预览内容...             │   │
│  行高: [选择] [输入]      │   │                          │   │
│  ...                     │   └──────────────────────────┘   │
└──────────────────────────┴──────────────────────────────────┘
```

---

## 三、样式修改位置

### 3.1 修改主界面背景色

**文件**：`src/App.vue`

**位置**：第 244 行
```html
<div class="flex flex-col h-screen bg-gray-50 dark:bg-gray-900">
```

**说明**：
- `bg-gray-50`：亮色模式背景色（浅灰）
- `dark:bg-gray-900`：深色模式背景色（深灰）

**修改示例**：
```html
<!-- 改为白色背景 -->
<div class="flex flex-col h-screen bg-white dark:bg-gray-950">
```

### 3.2 修改工具栏样式

**文件**：`src/components/Toolbar.vue`

**位置**：第 27 行
```html
<div class="flex items-center justify-between px-6 py-4 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700">
```

**常用修改**：
- `px-6`：水平内边距（24px）
- `py-4`：垂直内边距（16px）
- `bg-white`：亮色模式背景
- `border-b`：底部边框

### 3.3 修改编辑器样式

**文件**：`src/components/Editor.vue`

**位置**：第 59-63 行
```html
<textarea
  :value="modelValue"
  @input="handleInput"
  class="flex-1 w-full p-4 resize-none border-none outline-none font-mono text-sm leading-relaxed bg-gray-50 dark:bg-gray-800 text-gray-800 dark:text-gray-200 placeholder-gray-400"
  placeholder="在此输入 Markdown 内容..."
/>
```

**常用修改**：
- `p-4`：内边距（16px）
- `font-mono`：等宽字体
- `text-sm`：字体大小（14px）
- `leading-relaxed`：行高（1.625）

### 3.4 修改预览区手机模拟器宽度

**文件**：`src/components/Preview.vue`

**位置**：第 154-157 行
```html
<div
  class="relative w-[375px] bg-white rounded-xl shadow-2xl overflow-hidden"
  style="min-height: 600px;"
>
```

**修改示例**：
```html
<!-- 改为 414px 宽度（iPhone Plus 尺寸） -->
<div
  class="relative w-[414px] bg-white rounded-xl shadow-2xl overflow-hidden"
  style="min-height: 700px;"
>
```

### 3.5 修改主题编辑器面板宽度

**文件**：`src/components/ThemeEditor.vue`

**位置**：第 256 行
```html
<div class="w-[380px] flex flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700">
```

**修改示例**：
```html
<!-- 改为 420px 宽度 -->
<div class="w-[420px] flex flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700">
```

---

## 四、Tailwind CSS 常用类名速查

### 4.1 颜色

| 类名 | 说明 |
|------|------|
| `bg-white` | 白色背景 |
| `bg-gray-50` | 最浅灰色背景 |
| `bg-gray-100` | 浅灰色背景 |
| `bg-gray-800` | 深灰色背景 |
| `bg-gray-900` | 更深灰色背景 |
| `bg-blue-500` | 蓝色背景 |
| `text-gray-800` | 深灰色文字 |
| `text-white` | 白色文字 |
| `border-gray-200` | 浅灰色边框 |
| `border-gray-700` | 深灰色边框 |

### 4.2 间距

| 类名 | 说明 |
|------|------|
| `p-2` | 内边距 8px |
| `p-4` | 内边距 16px |
| `p-6` | 内边距 24px |
| `px-4` | 水平内边距 16px |
| `py-2` | 垂直内边距 8px |
| `m-4` | 外边距 16px |
| `space-x-2` | 子元素水平间距 8px |
| `space-y-4` | 子元素垂直间距 16px |
| `gap-3` | Grid/Flex 间距 12px |

### 4.3 尺寸

| 类名 | 说明 |
|------|------|
| `w-full` | 宽度 100% |
| `w-1/2` | 宽度 50% |
| `w-[380px]` | 固定宽度 380px |
| `h-screen` | 高度 100vh |
| `h-full` | 高度 100% |
| `min-h-[600px]` | 最小高度 600px |

### 4.4 布局

| 类名 | 说明 |
|------|------|
| `flex` | 弹性布局 |
| `flex-col` | 垂直方向 |
| `flex-1` | 自动填充剩余空间 |
| `items-center` | 垂直居中 |
| `justify-center` | 水平居中 |
| `justify-between` | 两端对齐 |
| `overflow-hidden` | 隐藏溢出 |
| `overflow-auto` | 自动滚动条 |

### 4.5 圆角和阴影

| 类名 | 说明 |
|------|------|
| `rounded` | 圆角 4px |
| `rounded-lg` | 圆角 8px |
| `rounded-xl` | 圆角 12px |
| `rounded-2xl` | 圆角 16px |
| `shadow-sm` | 小阴影 |
| `shadow-lg` | 大阴影 |
| `shadow-xl` | 超大阴影 |
| `shadow-2xl` | 特大阴影 |

### 4.6 深色模式

| 类名 | 说明 |
|------|------|
| `dark:bg-gray-900` | 深色模式下的背景色 |
| `dark:text-white` | 深色模式下的文字颜色 |
| `dark:border-gray-700` | 深色模式下的边框颜色 |

---

## 五、主题样式修改

### 5.1 修改默认主题

**文件**：`src/styles/themes.ts`

**示例**：修改默认主题的标题样式
```typescript
{
  id: 'default',
  name: '默认简约',
  styles: {
    // ...
    h1: 'color: #1a1a1a; font-size: 24px; font-weight: 700; margin: 24px 0 16px; padding-bottom: 10px; border-bottom: 2px solid #e5e5e5;',
    // 修改为：
    h1: 'color: #2563eb; font-size: 28px; font-weight: 800; margin: 32px 0 20px; text-align: center;',
    // ...
  },
}
```

### 5.2 添加新主题

在 `DEFAULT_THEMES` 数组中添加新主题：
```typescript
{
  id: 'custom-theme',
  name: '自定义主题',
  styles: {
    global: {
      fontSize: '16px',
      lineHeight: '1.8',
      color: '#333333',
      backgroundColor: '#ffffff',
      fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif',
    },
    h1: 'color: #000; font-size: 26px; font-weight: 700; margin: 24px 0;',
    // ... 其他元素样式
  },
}
```

---

## 六、快速修改指南

### 6.1 修改主色调

1. 打开 `src/components/Toolbar.vue`
2. 找到第 63-69 行的复制按钮：
```html
<button
  @click="onCopy"
  class="flex items-center space-x-2 px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors shadow-sm"
>
```
3. 修改 `bg-blue-500` 和 `hover:bg-blue-600` 为其他颜色，如 `bg-green-500`

### 6.2 修改深色模式切换行为

**文件**：`src/App.vue`

**位置**：第 130-138 行
```typescript
const handleToggleDark = () => {
  isDark.value = !isDark.value;
  if (isDark.value) {
    document.documentElement.classList.add('dark');
  } else {
    document.documentElement.classList.remove('dark');
  }
  set(STORAGE_KEYS.DARK_MODE, isDark.value);
};
```

### 6.3 修改自动保存间隔

**文件**：`src/App.vue`

**位置**：第 214-222 行
```typescript
watch(
  contentMarkdown,
  (newVal) => {
    if (saveTimeout) clearTimeout(saveTimeout);
    saveTimeout = setTimeout(() => {
      set(STORAGE_KEYS.CONTENT, newVal);
    }, 500);  // 修改这里，单位毫秒
  }
);
```

---

## 七、调试技巧

### 7.1 使用浏览器开发者工具

1. 按 F12 打开开发者工具
2. 使用元素选择器（Ctrl+Shift+C）点击要修改的元素
3. 在 Styles 面板中实时修改 Tailwind 类名
4. 确认效果后复制到代码中

### 7.2 临时禁用深色模式

在浏览器控制台执行：
```javascript
document.documentElement.classList.remove('dark');
```

### 7.3 清除本地存储

在浏览器控制台执行：
```javascript
localStorage.clear();
```

---

## 八、常见问题

### Q1: 修改样式后没有生效？

**原因**：可能是浏览器缓存或 Tailwind 未重新编译。

**解决**：
1. 重启开发服务器：`npm run dev`
2. 清除浏览器缓存（Ctrl+Shift+R）

### Q2: 深色模式样式不生效？

**原因**：需要在类名前添加 `dark:` 前缀。

**示例**：
```html
<!-- 错误 -->
<div class="bg-white bg-gray-900">

<!-- 正确 -->
<div class="bg-white dark:bg-gray-900">
```

### Q3: 如何添加自定义 CSS？

**方法**：在组件的 `<style scoped>` 中添加：
```html
<style scoped>
.my-custom-class {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
</style>
```

---

## 九、参考资源

- [Tailwind CSS 官方文档](https://tailwindcss.com/docs)
- [Vue 3 官方文档](https://vuejs.org/)
- [Lucide 图标库](https://lucide.dev/icons/)
